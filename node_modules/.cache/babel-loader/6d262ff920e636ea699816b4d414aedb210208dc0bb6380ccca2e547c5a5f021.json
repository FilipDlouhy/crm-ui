{"ast":null,"code":"import axios from \"axios\";\nconst api = axios.create({\n  baseURL: \"http://localhost:7000\" // Change this to your API server URL\n});\n\n// Axios interceptor to include cookies in requests\napi.interceptors.request.use(config => {\n  const cookies = document.cookie;\n  config.headers[\"Cookie\"] = cookies;\n  return config;\n});\nexport default {\n  data() {\n    return {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      telNumber: \"\",\n      password: \"\",\n      isLoggingIn: false\n    };\n  },\n  methods: {\n    async registerUser() {\n      const userDto = {\n        firstName: this.firstName,\n        lastName: this.lastName,\n        email: this.email,\n        telNumber: this.telNumber,\n        password: this.password\n      };\n      if (this.firstName.length === 0 || this.lastName.length === 0 || this.email.length === 0 || this.telNumber.length === 0 || this.password.length === 0) {\n        this.$store.commit(\"showModal\", \"Please fill all fields in the form\");\n        return;\n      }\n      try {\n        const response = await axios.post(\"http://localhost:5000/user/user-create\", userDto, {\n          withCredentials: true // Send cookies\n        });\n\n        console.log(\"Response:\", response.data);\n      } catch (error) {\n        this.$store.commit(\"showModal\", \"Please fill email with different one this is already taken\");\n      }\n    },\n    async loginUser() {\n      const userDto = {\n        email: this.email,\n        password: this.password\n      };\n      if (this.email.length === 0 || this.password.length === 0) {\n        this.$store.commit(\"showModal\", \"Please fill all fields in the form\");\n        return;\n      }\n      try {\n        const response = await axios.post(\"http://localhost:5000/user/user-login\", userDto, {\n          withCredentials: true\n        });\n        document.cookie = `jwt=${response.token}; Secure; HttpOnly; SameSite=None; Path=/`;\n        console.log(response.data);\n      } catch (error) {\n        this.$store.commit(\"showModal\", \"Email not found\");\n      }\n    },\n    async log() {\n      await axios.get(\"http://localhost:5000/user/log-session\", {\n        withCredentials: true\n      });\n    },\n    setIsloggingIn() {\n      this.isLoggingIn = !this.isLoggingIn;\n    }\n  }\n};","map":{"version":3,"names":["axios","api","create","baseURL","interceptors","request","use","config","cookies","document","cookie","headers","data","firstName","lastName","email","telNumber","password","isLoggingIn","methods","registerUser","userDto","length","$store","commit","response","post","withCredentials","console","log","error","loginUser","token","get","setIsloggingIn"],"sources":["src/Dashboard/Components/LoginForm/LoginForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard-form\">\r\n    <div class=\"dashboard-form-header\">\r\n      <h1>Sing up into TechTrack CRM</h1>\r\n      <h2 @click=\"setIsloggingIn\">Or are you already registered</h2>\r\n    </div>\r\n    <div class=\"dashboard-form-login-data\">\r\n      <div class=\"dashboard-form-login-data-input-container\">\r\n        <input\r\n          v-if=\"!isLoggingIn\"\r\n          v-model=\"firstName\"\r\n          type=\"text\"\r\n          placeholder=\"First name\"\r\n        />\r\n        <input\r\n          v-if=\"!isLoggingIn\"\r\n          v-model=\"lastName\"\r\n          type=\"text\"\r\n          placeholder=\"Last name\"\r\n        />\r\n        <input v-model=\"email\" type=\"text\" placeholder=\"Email\" />\r\n        <input\r\n          v-if=\"!isLoggingIn\"\r\n          v-model=\"telNumber\"\r\n          type=\"tel\"\r\n          placeholder=\"Telephone\"\r\n        />\r\n        <input v-model=\"password\" type=\"password\" placeholder=\"Password\" />\r\n      </div>\r\n\r\n      <div>\r\n        <button @click=\"registerUser\">Sign up</button>\r\n        <button @click=\"loginUser\">LOogin</button>\r\n        <button @click=\"log\">Try as a guest</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:7000\", // Change this to your API server URL\r\n});\r\n\r\n// Axios interceptor to include cookies in requests\r\napi.interceptors.request.use((config) => {\r\n  const cookies = document.cookie;\r\n  config.headers[\"Cookie\"] = cookies;\r\n  return config;\r\n});\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      telNumber: \"\",\r\n      password: \"\",\r\n      isLoggingIn: false,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    async registerUser() {\r\n      const userDto = {\r\n        firstName: this.firstName,\r\n        lastName: this.lastName,\r\n        email: this.email,\r\n        telNumber: this.telNumber,\r\n        password: this.password,\r\n      };\r\n\r\n      if (\r\n        this.firstName.length === 0 ||\r\n        this.lastName.length === 0 ||\r\n        this.email.length === 0 ||\r\n        this.telNumber.length === 0 ||\r\n        this.password.length === 0\r\n      ) {\r\n        this.$store.commit(\"showModal\", \"Please fill all fields in the form\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.post(\r\n          \"http://localhost:5000/user/user-create\",\r\n          userDto,\r\n          {\r\n            withCredentials: true, // Send cookies\r\n          }\r\n        );\r\n        console.log(\"Response:\", response.data);\r\n      } catch (error) {\r\n        this.$store.commit(\r\n          \"showModal\",\r\n          \"Please fill email with different one this is already taken\"\r\n        );\r\n      }\r\n    },\r\n\r\n    async loginUser() {\r\n      const userDto = {\r\n        email: this.email,\r\n        password: this.password,\r\n      };\r\n\r\n      if (this.email.length === 0 || this.password.length === 0) {\r\n        this.$store.commit(\"showModal\", \"Please fill all fields in the form\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.post(\r\n          \"http://localhost:5000/user/user-login\",\r\n          userDto,\r\n          { withCredentials: true }\r\n        );\r\n        document.cookie = `jwt=${response.token}; Secure; HttpOnly; SameSite=None; Path=/`;\r\n        console.log(response.data);\r\n      } catch (error) {\r\n        this.$store.commit(\"showModal\", \"Email not found\");\r\n      }\r\n    },\r\n\r\n    async log() {\r\n      await axios.get(\"http://localhost:5000/user/log-session\", {\r\n        withCredentials: true,\r\n      });\r\n    },\r\n\r\n    setIsloggingIn() {\r\n      this.isLoggingIn = !this.isLoggingIn;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dashboard-form {\r\n  width: 40%;\r\n  height: 70%;\r\n  background: white;\r\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.dashboard-form-header {\r\n  width: 100%;\r\n  height: 20%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  flex-direction: column;\r\n  color: rgb(10, 174, 227);\r\n\r\n  h2 {\r\n    font-size: 1.2rem;\r\n    color: rgba(128, 128, 128, 0.61);\r\n    cursor: pointer;\r\n    transition: 0.3s;\r\n    &:hover {\r\n      color: rgb(10, 176, 227);\r\n    }\r\n  }\r\n}\r\n\r\n.dashboard-form-login-data {\r\n  width: 100%;\r\n  height: 80%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  flex-direction: column;\r\n  button {\r\n    width: 250px;\r\n    height: 40px;\r\n    background-color: rgb(10, 176, 227);\r\n    outline: none;\r\n    border: none;\r\n    color: white;\r\n    box-shadow: rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px;\r\n    font-size: 1.25rem;\r\n    font-weight: 500;\r\n    letter-spacing: 1px;\r\n    margin: 0 10px;\r\n    cursor: pointer;\r\n  }\r\n}\r\n.dashboard-form-login-data-input-container {\r\n  width: 100%;\r\n  height: 80%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  flex-direction: column;\r\n  input {\r\n    width: 300px;\r\n    height: 30px;\r\n    text-align: center;\r\n    border-right: none;\r\n    border-left: none;\r\n    border-top: none;\r\n    border-bottom-color: rgb(199, 199, 199);\r\n  }\r\n  input:focus {\r\n    border-right: none;\r\n    border-left: none;\r\n    border-top: none;\r\n    outline: none;\r\n    border-bottom-color: rgb(10, 176, 227);\r\n  }\r\n  input:focus::placeholder {\r\n    transform: translateY(-120%); /* Move the placeholder text up */\r\n    color: rgb(10, 176, 227); /* Change placeholder color when focused */\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"AAwCA,OAAAA,KAAA;AAEA,MAAAC,GAAA,GAAAD,KAAA,CAAAE,MAAA;EACAC,OAAA;AACA;;AAEA;AACAF,GAAA,CAAAG,YAAA,CAAAC,OAAA,CAAAC,GAAA,CAAAC,MAAA;EACA,MAAAC,OAAA,GAAAC,QAAA,CAAAC,MAAA;EACAH,MAAA,CAAAI,OAAA,aAAAH,OAAA;EACA,OAAAD,MAAA;AACA;AAEA;EACAK,KAAA;IACA;MACAC,SAAA;MACAC,QAAA;MACAC,KAAA;MACAC,SAAA;MACAC,QAAA;MACAC,WAAA;IACA;EACA;EAEAC,OAAA;IACA,MAAAC,aAAA;MACA,MAAAC,OAAA;QACAR,SAAA,OAAAA,SAAA;QACAC,QAAA,OAAAA,QAAA;QACAC,KAAA,OAAAA,KAAA;QACAC,SAAA,OAAAA,SAAA;QACAC,QAAA,OAAAA;MACA;MAEA,IACA,KAAAJ,SAAA,CAAAS,MAAA,UACA,KAAAR,QAAA,CAAAQ,MAAA,UACA,KAAAP,KAAA,CAAAO,MAAA,UACA,KAAAN,SAAA,CAAAM,MAAA,UACA,KAAAL,QAAA,CAAAK,MAAA,QACA;QACA,KAAAC,MAAA,CAAAC,MAAA;QACA;MACA;MAEA;QACA,MAAAC,QAAA,SAAAzB,KAAA,CAAA0B,IAAA,CACA,0CACAL,OAAA,EACA;UACAM,eAAA;QACA,CACA;;QACAC,OAAA,CAAAC,GAAA,cAAAJ,QAAA,CAAAb,IAAA;MACA,SAAAkB,KAAA;QACA,KAAAP,MAAA,CAAAC,MAAA,CACA,aACA,4DACA;MACA;IACA;IAEA,MAAAO,UAAA;MACA,MAAAV,OAAA;QACAN,KAAA,OAAAA,KAAA;QACAE,QAAA,OAAAA;MACA;MAEA,SAAAF,KAAA,CAAAO,MAAA,eAAAL,QAAA,CAAAK,MAAA;QACA,KAAAC,MAAA,CAAAC,MAAA;QACA;MACA;MAEA;QACA,MAAAC,QAAA,SAAAzB,KAAA,CAAA0B,IAAA,CACA,yCACAL,OAAA,EACA;UAAAM,eAAA;QAAA,CACA;QACAlB,QAAA,CAAAC,MAAA,UAAAe,QAAA,CAAAO,KAAA;QACAJ,OAAA,CAAAC,GAAA,CAAAJ,QAAA,CAAAb,IAAA;MACA,SAAAkB,KAAA;QACA,KAAAP,MAAA,CAAAC,MAAA;MACA;IACA;IAEA,MAAAK,IAAA;MACA,MAAA7B,KAAA,CAAAiC,GAAA;QACAN,eAAA;MACA;IACA;IAEAO,eAAA;MACA,KAAAhB,WAAA,SAAAA,WAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}