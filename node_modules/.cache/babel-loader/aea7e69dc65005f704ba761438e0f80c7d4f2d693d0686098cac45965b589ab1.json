{"ast":null,"code":"import axios from \"axios\";\nconst RoleHelper = {\n  async fetchUserRights() {\n    const rights = await axios.get(\"http://localhost:5000/get-user-rights\", {\n      withCredentials: true\n    });\n\n    // Check if there is an error fetching user rights.\n    if (rights.data.error) {\n      // You can handle the error as needed, e.g., throw an exception or return an error message.\n      throw new Error(rights.data.error);\n    }\n\n    // Extract and flatten user rights data, removing duplicates using a Set.\n    const userRights = rights.data.rights.flatMap(roleRight => {\n      return roleRight.rights.map(right => {\n        return right.name;\n      });\n    });\n    const uniqueUserRights = [...new Set(userRights)];\n    return uniqueUserRights;\n  }\n};\nexport default RoleHelper;","map":{"version":3,"names":["axios","RoleHelper","fetchUserRights","rights","get","withCredentials","data","error","Error","userRights","flatMap","roleRight","map","right","name","uniqueUserRights","Set"],"sources":["C:/Users/jdlou/OneDrive/Plocha/crmproject/crm-frontend/src/Users-Frontend/RoleHelper.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst RoleHelper = {\r\n  async fetchUserRights() {\r\n    const rights = await axios.get(\"http://localhost:5000/get-user-rights\", {\r\n      withCredentials: true,\r\n    });\r\n\r\n    // Check if there is an error fetching user rights.\r\n    if (rights.data.error) {\r\n      // You can handle the error as needed, e.g., throw an exception or return an error message.\r\n      throw new Error(rights.data.error);\r\n    }\r\n\r\n    // Extract and flatten user rights data, removing duplicates using a Set.\r\n    const userRights = rights.data.rights.flatMap((roleRight) => {\r\n      return roleRight.rights.map((right) => {\r\n        return right.name;\r\n      });\r\n    });\r\n\r\n    const uniqueUserRights = [...new Set(userRights)];\r\n    return uniqueUserRights;\r\n  },\r\n};\r\n\r\nexport default RoleHelper;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,UAAU,GAAG;EACjB,MAAMC,eAAeA,CAAA,EAAG;IACtB,MAAMC,MAAM,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,uCAAuC,EAAE;MACtEC,eAAe,EAAE;IACnB,CAAC,CAAC;;IAEF;IACA,IAAIF,MAAM,CAACG,IAAI,CAACC,KAAK,EAAE;MACrB;MACA,MAAM,IAAIC,KAAK,CAACL,MAAM,CAACG,IAAI,CAACC,KAAK,CAAC;IACpC;;IAEA;IACA,MAAME,UAAU,GAAGN,MAAM,CAACG,IAAI,CAACH,MAAM,CAACO,OAAO,CAAEC,SAAS,IAAK;MAC3D,OAAOA,SAAS,CAACR,MAAM,CAACS,GAAG,CAAEC,KAAK,IAAK;QACrC,OAAOA,KAAK,CAACC,IAAI;MACnB,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,MAAMC,gBAAgB,GAAG,CAAC,GAAG,IAAIC,GAAG,CAACP,UAAU,CAAC,CAAC;IACjD,OAAOM,gBAAgB;EACzB;AACF,CAAC;AAED,eAAed,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}